!function(t){var n={};function e(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,e),u.l=!0,u.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var u in t)e.d(r,u,function(n){return t[n]}.bind(null,u));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";var r=Math.PI,u=Math.sin,o=Math.cos,a=Math.tan,i=Math.asin,c=Math.atan2,f=Math.acos,s=r/180;function d(t){return new Date(864e5*(t+.5-2440588))}function l(t){return function(t){return t.valueOf()/864e5-.5+2440588}(t)-2451545}var M=23.4397*s;function h(t,n){return c(u(t)*o(M)-a(n)*u(M),o(t))}function v(t,n){return i(u(n)*o(M)+o(n)*u(M)*u(t))}function g(t,n,e){return c(u(t),o(t)*u(n)-a(e)*o(n))}function p(t,n,e){return i(u(n)*u(e)+o(n)*o(e)*o(t))}function b(t,n){return s*(280.16+360.9856235*t)-n}function y(t){return s*(357.5291+.98560028*t)}function m(t){return t+s*(1.9148*u(t)+.02*u(2*t)+3e-4*u(3*t))+102.9372*s+r}function P(t){var n=m(y(t));return{dec:v(n,0),ra:h(n,0)}}var w={getPosition:function(t,n,e){var r=s*-e,u=s*n,o=l(t),a=P(o),i=b(o,r)-a.ra;return{azimuth:g(i,u,a.dec),altitude:p(i,u,a.dec)}}},O=w.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];w.addTime=function(t,n,e){O.push([t,n,e])};function j(t,n,e){return 9e-4+(t+n)/(2*r)+e}function D(t,n,e){return 2451545+t+.0053*u(n)-.0069*u(2*e)}function x(t,n,e,r,a,i,c){return D(j(function(t,n,e){return f((u(t)-u(n)*u(e))/(o(n)*o(e)))}(t,e,r),n,a),i,c)}function S(t){var n=s*(134.963+13.064993*t),e=s*(93.272+13.22935*t),r=s*(218.316+13.176396*t)+6.289*s*u(n),a=5.128*s*u(e),i=385001-20905*o(n);return{ra:h(r,a),dec:v(r,a),dist:i}}function T(t,n){return new Date(t.valueOf()+864e5*n/24)}w.getTimes=function(t,n,e,u){var o,a,i,c,f,M=s*-e,h=s*n,g=function(t){return-2.076*Math.sqrt(t)/60}(u=u||0),p=function(t,n){return Math.round(t-9e-4-n/(2*r))}(l(t),M),b=j(0,M,p),P=y(b),w=m(P),S=v(w,0),T=D(b,P,w),_={solarNoon:d(T),nadir:d(T-.5)};for(o=0,a=O.length;o<a;o+=1)f=T-((c=x(((i=O[o])[0]+g)*s,M,h,S,p,P,w))-T),_[i[1]]=d(f),_[i[2]]=d(c);return _},w.getMoonPosition=function(t,n,e){var r=s*-e,i=s*n,f=l(t),d=S(f),M=b(f,r)-d.ra,h=p(M,i,d.dec),v=c(u(M),a(i)*o(d.dec)-u(d.dec)*o(M));return h+=function(t){return t<0&&(t=0),2967e-7/Math.tan(t+.00312536/(t+.08901179))}(h),{azimuth:g(M,i,d.dec),altitude:h,distance:d.dist,parallacticAngle:v}},w.getMoonIllumination=function(t){var n=l(t||new Date),e=P(n),r=S(n),a=f(u(e.dec)*u(r.dec)+o(e.dec)*o(r.dec)*o(e.ra-r.ra)),i=c(149598e3*u(a),r.dist-149598e3*o(a)),s=c(o(e.dec)*u(e.ra-r.ra),u(e.dec)*o(r.dec)-o(e.dec)*u(r.dec)*o(e.ra-r.ra));return{fraction:(1+o(i))/2,phase:.5+.5*i*(s<0?-1:1)/Math.PI,angle:s}},w.getMoonTimes=function(t,n,e,r){var u=new Date(t);r?u.setUTCHours(0,0,0,0):u.setHours(0,0,0,0);for(var o,a,i,c,f,d,l,M,h,v,g,p,b,y=.133*s,m=w.getMoonPosition(u,n,e).altitude-y,P=1;P<=24&&(o=w.getMoonPosition(T(u,P),n,e).altitude-y,M=((f=(m+(a=w.getMoonPosition(T(u,P+1),n,e).altitude-y))/2-o)*(l=-(d=(a-m)/2)/(2*f))+d)*l+o,v=0,(h=d*d-4*f*o)>=0&&(g=l-(b=Math.sqrt(h)/(2*Math.abs(f))),p=l+b,Math.abs(g)<=1&&v++,Math.abs(p)<=1&&v++,g<-1&&(g=p)),1===v?m<0?i=P+g:c=P+g:2===v&&(i=P+(M<0?p:g),c=P+(M<0?g:p)),!i||!c);P+=2)m=a;var O={};return i&&(O.rise=T(u,i)),c&&(O.set=T(u,c)),i||c||(O[M>0?"alwaysUp":"alwaysDown"]=!0),O},t.exports=w}]);