!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports=require("util")},function(e,t){e.exports=require("underscore")},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("q")},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(2),i=n.n(o),s=n(3),a=n.n(s),c=n(4),u=n.n(c),p=n(1),h=n.n(p),f={},l={numeric:!0,timeout:2,deadline:!1,min_reply:1,v6:!1,sourceAddr:"",packetSize:56,extra:[]};f.getCommandArguments=function(e,t){var n=t||{},o=[];return["numeric","timeout","deadline","min_reply","v6","sourceAddr","extra","packetSize"].forEach((function(e){"boolean"!=typeof n[e]&&(n[e]=n[e]||l[e])})),n.numeric&&o.push("-n"),n.timeout&&(o=o.concat(["-W",Object(r.format)("%d",n.timeout)])),n.deadline&&(o=o.concat(["-w",Object(r.format)("%d",n.deadline)])),n.min_reply&&(o=o.concat(["-c",Object(r.format)("%d",n.min_reply)])),n.sourceAddr&&(o=o.concat(["-I",Object(r.format)("%s",n.sourceAddr)])),n.packetSize&&(o=o.concat(["-s",Object(r.format)("%d",n.packetSize)])),n.extra&&(o=o.concat(n.extra)),o.push(e),o},f.getSpawnOptions=function(){return{shell:!0}};var d=f,m={},_={numeric:!0,timeout:2,deadline:!1,min_reply:1,v6:!1,sourceAddr:"",packetSize:56,extra:[]};m.getCommandArguments=function(e,t){var n=t||{},o=[];if(["numeric","timeout","deadline","min_reply","v6","sourceAddr","extra","packetSize"].forEach((function(e){"boolean"!=typeof n[e]&&(n[e]=n[e]||_[e])})),n.numeric&&o.push("-n"),n.timeout){if(t.v6)throw new Error("There is no timeout option on ping6");o=o.concat(["-W",Object(r.format)("%d",1e3*n.timeout)])}return n.deadline&&(o=o.concat(["-t",Object(r.format)("%d",n.deadline)])),n.min_reply&&(o=o.concat(["-c",Object(r.format)("%d",n.min_reply)])),n.sourceAddr&&(o=o.concat(["-S",Object(r.format)("%s",n.sourceAddr)])),n.packetSize&&(o=o.concat(["-s",Object(r.format)("%d",n.packetSize)])),n.extra&&(o=o.concat(n.extra)),o.push(e),o},m.getSpawnOptions=function(){return{}};var v=m,S={},g={numeric:!0,timeout:5,min_reply:1,v6:!1,sourceAddr:"",packetSize:32,extra:[]};S.getCommandArguments=function(e,t){var n=t||{},o=[];if(["numeric","timeout","min_reply","v6","sourceAddr","extra","packetSize"].forEach((function(e){"boolean"!=typeof n[e]&&(n[e]=n[e]||g[e])})),o.push(n.v6?"-6":"-4"),n.numeric||o.push("-a"),n.timeout&&(o=o.concat(["-w",Object(r.format)("%d",1e3*n.timeout)])),n.deadline)throw new Error("There is no deadline option on windows");return n.min_reply&&(o=o.concat(["-n",Object(r.format)("%d",n.min_reply)])),n.sourceAddr&&(o=o.concat(["-S",Object(r.format)("%s",n.sourceAddr)])),n.packetSize&&(o=o.concat(["-l",Object(r.format)("%d",n.packetSize)])),n.extra&&(o=o.concat(n.extra)),o.push(e),o},S.getSpawnOptions=function(){return{}};var x=S;function O(){}O.isLinux=function(e){return["aix","android","linux"].indexOf(e)>=0},O.isMacOS=function(e){return["darwin","freebsd"].indexOf(e)>=0},O.isWindow=function(e){return e&&null!==e.match(/^win/)},O.isPlatformSupport=function(e){return h.a.some([this.isWindow(e),this.isLinux(e),this.isMacOS(e)])},O.getExecutablePath=function(e,t){if(!this.isPlatformSupport(e))throw new Error(Object(r.format)("Platform |%s| is not support",e));var n=null;return"aix"===e?n="/usr/sbin/ping":O.isLinux(e)?n=t?"ping6":"ping":O.isWindow(e)?n=process.env.SystemRoot+"/system32/ping.exe":O.isMacOS(e)&&(n=t?"/sbin/ping6":"/sbin/ping"),n},O.createBuilder=function(e){if(!this.isPlatformSupport(e))throw new Error(Object(r.format)("Platform |%s| is not support",e));var t=null;return O.isLinux(e)?t=d:O.isWindow(e)?t=x:O.isMacOS(e)&&(t=v),t};var y=O;function w(e){this._state=0,this._response={host:"unknown",alive:!1,output:"unknown",time:"unknown",times:[],min:"unknown",max:"unknown",avg:"unknown",stddev:"unknown",packetLoss:"unknown"},this._times=[],this._lines=[],this._stripRegex=/[ ]*\r?\n?$/g,this._pingConfig=e||{}}w.prototype.STATES={INIT:0,HEADER:1,BODY:2,FOOTER:3,END:4},w.prototype._changeState=function(e){if(h.a.values(this.STATES).indexOf(e)<0)throw new Error("Unknown state");return this._state=e,this},w.prototype._processHeader=function(e){throw new Error("Subclass should implement this method")},w.prototype._processBody=function(e){throw new Error("Subclass should implement this method")},w.prototype._processFooter=function(e){throw new Error("Subclass should implement this method")},w.prototype.eat=function(e){var t=[this.STATES.INIT,this.STATES.HEADER];this._lines.push(e);var n=e.replace(this._stripRegex,"");if(0===n.length);else if(t.indexOf(this._state)>=0)this._processHeader(n);else if(this._state===this.STATES.BODY)this._processBody(n);else if(this._state===this.STATES.FOOTER)this._processFooter(n);else if(this._state!==this.STATES.END)throw new Error("Unknown state");return this},w.prototype.getResult=function(){var e=h.a.extend({},this._response);if(e.output=this._lines.join("\n"),e.alive=this._times.length>0,e.alive&&(e.time=this._response.time=this._times[0],e.times=this._response.times=this._times),"unknown"===e.stddev&&e.alive){var t=this._times.length,n=h.a.reduce(this._times,(function(t,n){return t+Math.pow(n-e.avg,2)}),0)/t;e.stddev=Math.round(1e3*Math.sqrt(n))/1e3}return h.a.each(["min","avg","max","stddev","packetLoss"],(function(t){var n=e[t];h.a.isNumber(n)&&(e[t]=n.toFixed(3))})),e};var b=w;function E(e){b.call(this,e),this._ipv4Regex=/^([0-9]{1,3}\.){3}[0-9]{1,3}$/}Object(r.inherits)(E,b),E.prototype._processHeader=function(e){var t=-1===e.indexOf("["),n=e.split(" ");if(t)this._response.host=h.a.find(n,(function(e){return this._ipv4Regex.test(e)}),this),this._response.numeric_host=this._response.host;else{var r=h.a.find(n,(function(e){return-1!==e.indexOf("[")}),this),o=n.indexOf(r),i=/\[(.*)\]/.exec(r);this._response.numeric_host=i?i[1]:"NA",this._response.host=n[o-1]}this._changeState(this.STATES.BODY)},E.prototype._processIPV6Body=function(e){var t=e.split(" "),n=h.a.filter(t,(function(e){return e.indexOf("=")>=0||e.indexOf("<")>=0}));if((n=h.a.map(n,(function(e){var n=e,r=t.indexOf(e)+1;return r<t.length&&"ms"===t[r]&&(n+="ms"),n}))).length>=1){var r=h.a.find(n,(function(e){return e.search(/(ms|мс)/i)>=0})),o=/([0-9.]+)/.exec(r);this._times.push(parseFloat(o[1],10))}},E.prototype._processIPV4Body=function(e){var t=e.split(" "),n=h.a.filter(t,(function(e){return e.indexOf("=")>=0||e.indexOf("<")>=0}));if(n.length>=3){var o=this._pingConfig.packetSize,i=h.a.find(n,(function(e){var t=Object(r.format)("=%d",o);return e.indexOf(t)>=0})),s=n.indexOf(i),a=n[s+1],c=/([0-9.]+)/.exec(a);this._times.push(parseFloat(c[1],10))}},E.prototype._processBody=function(e){":"===e.slice(-1)?this._changeState(this.STATES.FOOTER):this._pingConfig.v6?this._processIPV6Body(e):this._processIPV4Body(e)},E.prototype._processFooter=function(e){var t=e.match(/([\d.]+)%/);if(t&&(this._response.packetLoss=parseFloat(t[1],10)),e.search(/(ms|мсек)/i)>=0){var n=/([0-9.]+)/g,r=n.exec(e),o=n.exec(e),i=n.exec(e);h.a.all([r,o,i])&&(this._response.min=parseFloat(r[1],10),this._response.max=parseFloat(o[1],10),this._response.avg=parseFloat(i[1],10),this._changeState(this.STATES.END))}};var T=E;function j(e){b.call(this,e)}Object(r.inherits)(j,b),j.prototype._processHeader=function(e){var t=e.split(" ");this._response.host=t[1],this._response.numeric_host=t[2].slice(1,-2),this._changeState(this.STATES.BODY)},j.prototype._processBody=function(e){if((e.match(/=/g)||[]).length>=3){var t=/([0-9.]+)[ ]*ms/.exec(e);this._times.push(parseFloat(t[1],10))}e.indexOf("---")>=0&&this._changeState(this.STATES.FOOTER)},j.prototype._processFooter=function(e){var t=e.match(/ ([\d.]+)%/);if(t&&(this._response.packetLoss=parseFloat(t[1],10)),(e.match(/[/]/g)||[]).length>=3){var n=/([0-9.]+)/g,r=n.exec(e),o=n.exec(e),i=n.exec(e),s=n.exec(e);h.a.all([r,o,i,s])&&(this._response.min=parseFloat(r[1],10),this._response.avg=parseFloat(o[1],10),this._response.max=parseFloat(i[1],10),this._response.stddev=parseFloat(s[1],10),this._changeState(this.STATES.END)),this._changeState(this.STATES.END)}};var A=j;function k(e){b.call(this,e)}Object(r.inherits)(k,b),k.prototype._processHeader=function(e){var t=e.split(" ");if(-1===t[1].indexOf("("))this._response.host=t[1],this._response.numeric_host=t[2].slice(1,-1);else{var n=t.slice(1,-3).join("").match(/([^\s()]+)/g);this._response.host=n.shift(),this._response.numeric_host=n.pop()}this._changeState(this.STATES.BODY)},k.prototype._processBody=function(e){A.prototype._processBody.call(this,e)},k.prototype._processFooter=function(e){A.prototype._processFooter.call(this,e)};var F=k;function P(){}P.createParser=function(e,t){var n=t||{};if(!y.isPlatformSupport(e))throw new Error(Object(r.format)("Platform |%s| is not support",e));var o=null;return y.isWindow(e)?o=new T(n):y.isMacOS(e)?o=new A(n):y.isLinux(e)&&(o=new F(n)),o};var B=P,z={};var R=function(e,t){var n=t||{},o=u.a.defer(),s=null,c=a.a.platform();try{var p=y.createBuilder(c),f=y.getExecutablePath(c,n.v6),l=p.getCommandArguments(e,n),d=p.getSpawnOptions();s=i.a.spawn(f,l,d)}catch(e){return o.reject(e),o.promise}var m=B.createParser(c,n);s.once("error",(function(){var e=new Error(Object(r.format)("ping.probe: %s. %s","there was an error while executing the ping program. ","Check the path or permissions..."));o.reject(e)}));var _=[];return s.stdout.on("data",(function(e){_.push(String(e))})),s.once("close",(function(){var e=_.join("").split("\n");h.a.each(e,m.eat,m);var t=m.getResult();o.resolve(t)})),o.promise};z.probe=R;var D=z,M={};var I=function(e,t,n){var r=n||{};return D.probe(e,r).then((function(e){t(e.alive,null)})).catch((function(e){t(null,e)})).done()};M.probe=I;var L,N=M,C={};C.sys=N,C.promise=D,L=C;t.default=L}]);