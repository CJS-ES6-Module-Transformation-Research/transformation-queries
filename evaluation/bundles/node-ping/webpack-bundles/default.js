!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){t.exports=require("util")},function(t,e){t.exports=require("underscore")},function(t,e,n){"use strict";var r=n(1);function o(t){this._state=0,this._response={host:"unknown",alive:!1,output:"unknown",time:"unknown",times:[],min:"unknown",max:"unknown",avg:"unknown",stddev:"unknown",packetLoss:"unknown"},this._times=[],this._lines=[],this._stripRegex=/[ ]*\r?\n?$/g,this._pingConfig=t||{}}o.prototype.STATES={INIT:0,HEADER:1,BODY:2,FOOTER:3,END:4},o.prototype._changeState=function(t){if(r.values(this.STATES).indexOf(t)<0)throw new Error("Unknown state");return this._state=t,this},o.prototype._processHeader=function(t){throw new Error("Subclass should implement this method")},o.prototype._processBody=function(t){throw new Error("Subclass should implement this method")},o.prototype._processFooter=function(t){throw new Error("Subclass should implement this method")},o.prototype.eat=function(t){var e=[this.STATES.INIT,this.STATES.HEADER];this._lines.push(t);var n=t.replace(this._stripRegex,"");if(0===n.length);else if(e.indexOf(this._state)>=0)this._processHeader(n);else if(this._state===this.STATES.BODY)this._processBody(n);else if(this._state===this.STATES.FOOTER)this._processFooter(n);else if(this._state!==this.STATES.END)throw new Error("Unknown state");return this},o.prototype.getResult=function(){var t=r.extend({},this._response);if(t.output=this._lines.join("\n"),t.alive=this._times.length>0,t.alive&&(t.time=this._response.time=this._times[0],t.times=this._response.times=this._times),"unknown"===t.stddev&&t.alive){var e=this._times.length,n=r.reduce(this._times,(function(e,n){return e+Math.pow(n-t.avg,2)}),0)/e;t.stddev=Math.round(1e3*Math.sqrt(n))/1e3}return r.each(["min","avg","max","stddev","packetLoss"],(function(e){var n=t[e];r.isNumber(n)&&(t[e]=n.toFixed(3))})),t},t.exports=o},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(9),s=n(10),a=n(1),c=n(4),u=n(14);e.probe=function(t,e){var n=e||{},p=s.defer(),h=null,f=i.platform();try{var l=c.createBuilder(f),d=c.getExecutablePath(f,n.v6),m=l.getCommandArguments(t,n),_=l.getSpawnOptions();h=o.spawn(d,m,_)}catch(t){return p.reject(t),p.promise}var v=u.createParser(f,n);h.once("error",(function(){var t=new Error(r.format("ping.probe: %s. %s","there was an error while executing the ping program. ","Check the path or permissions..."));p.reject(t)}));var x=[];return h.stdout.on("data",(function(t){x.push(String(t))})),h.once("close",(function(){var t=x.join("").split("\n");a.each(t,v.eat,v);var e=v.getResult();p.resolve(e)})),p.promise}},function(t,e,n){"use strict";var r=n(1),o=n(0),i=n(11),s=n(12),a=n(13);function c(){}c.isLinux=function(t){return["aix","android","linux"].indexOf(t)>=0},c.isMacOS=function(t){return["darwin","freebsd"].indexOf(t)>=0},c.isWindow=function(t){return t&&null!==t.match(/^win/)},c.isPlatformSupport=function(t){return r.some([this.isWindow(t),this.isLinux(t),this.isMacOS(t)])},c.getExecutablePath=function(t,e){if(!this.isPlatformSupport(t))throw new Error(o.format("Platform |%s| is not support",t));var n=null;return"aix"===t?n="/usr/sbin/ping":c.isLinux(t)?n=e?"ping6":"ping":c.isWindow(t)?n=process.env.SystemRoot+"/system32/ping.exe":c.isMacOS(t)&&(n=e?"/sbin/ping6":"/sbin/ping"),n},c.createBuilder=function(t){if(!this.isPlatformSupport(t))throw new Error(o.format("Platform |%s| is not support",t));var e=null;return c.isLinux(t)?e=i:c.isWindow(t)?e=a:c.isMacOS(t)&&(e=s),e},t.exports=c},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(2);function s(t){i.call(this,t)}r.inherits(s,i),s.prototype._processHeader=function(t){var e=t.split(" ");this._response.host=e[1],this._response.numeric_host=e[2].slice(1,-2),this._changeState(this.STATES.BODY)},s.prototype._processBody=function(t){if((t.match(/=/g)||[]).length>=3){var e=/([0-9.]+)[ ]*ms/.exec(t);this._times.push(parseFloat(e[1],10))}t.indexOf("---")>=0&&this._changeState(this.STATES.FOOTER)},s.prototype._processFooter=function(t){var e=t.match(/ ([\d.]+)%/);if(e&&(this._response.packetLoss=parseFloat(e[1],10)),(t.match(/[/]/g)||[]).length>=3){var n=/([0-9.]+)/g,r=n.exec(t),i=n.exec(t),s=n.exec(t),a=n.exec(t);o.all([r,i,s,a])&&(this._response.min=parseFloat(r[1],10),this._response.avg=parseFloat(i[1],10),this._response.max=parseFloat(s[1],10),this._response.stddev=parseFloat(a[1],10),this._changeState(this.STATES.END)),this._changeState(this.STATES.END)}},t.exports=s},function(t,e,n){var r={};r.sys=n(7),r.promise=n(3),t.exports=r},function(t,e,n){"use strict";var r=n(3);e.probe=function(t,e,n){var o=n||{};return r.probe(t,o).then((function(t){e(t.alive,null)})).catch((function(t){e(null,t)})).done()}},function(t,e){t.exports=require("child_process")},function(t,e){t.exports=require("os")},function(t,e){t.exports=require("q")},function(t,e,n){"use strict";var r=n(0),o={},i={numeric:!0,timeout:2,deadline:!1,min_reply:1,v6:!1,sourceAddr:"",packetSize:56,extra:[]};o.getCommandArguments=function(t,e){var n=e||{},o=[];return["numeric","timeout","deadline","min_reply","v6","sourceAddr","extra","packetSize"].forEach((function(t){"boolean"!=typeof n[t]&&(n[t]=n[t]||i[t])})),n.numeric&&o.push("-n"),n.timeout&&(o=o.concat(["-W",r.format("%d",n.timeout)])),n.deadline&&(o=o.concat(["-w",r.format("%d",n.deadline)])),n.min_reply&&(o=o.concat(["-c",r.format("%d",n.min_reply)])),n.sourceAddr&&(o=o.concat(["-I",r.format("%s",n.sourceAddr)])),n.packetSize&&(o=o.concat(["-s",r.format("%d",n.packetSize)])),n.extra&&(o=o.concat(n.extra)),o.push(t),o},o.getSpawnOptions=function(){return{shell:!0}},t.exports=o},function(t,e,n){"use strict";var r=n(0),o={},i={numeric:!0,timeout:2,deadline:!1,min_reply:1,v6:!1,sourceAddr:"",packetSize:56,extra:[]};o.getCommandArguments=function(t,e){var n=e||{},o=[];if(["numeric","timeout","deadline","min_reply","v6","sourceAddr","extra","packetSize"].forEach((function(t){"boolean"!=typeof n[t]&&(n[t]=n[t]||i[t])})),n.numeric&&o.push("-n"),n.timeout){if(e.v6)throw new Error("There is no timeout option on ping6");o=o.concat(["-W",r.format("%d",1e3*n.timeout)])}return n.deadline&&(o=o.concat(["-t",r.format("%d",n.deadline)])),n.min_reply&&(o=o.concat(["-c",r.format("%d",n.min_reply)])),n.sourceAddr&&(o=o.concat(["-S",r.format("%s",n.sourceAddr)])),n.packetSize&&(o=o.concat(["-s",r.format("%d",n.packetSize)])),n.extra&&(o=o.concat(n.extra)),o.push(t),o},o.getSpawnOptions=function(){return{}},t.exports=o},function(t,e,n){"use strict";var r=n(0),o={},i={numeric:!0,timeout:5,min_reply:1,v6:!1,sourceAddr:"",packetSize:32,extra:[]};o.getCommandArguments=function(t,e){var n=e||{},o=[];if(["numeric","timeout","min_reply","v6","sourceAddr","extra","packetSize"].forEach((function(t){"boolean"!=typeof n[t]&&(n[t]=n[t]||i[t])})),o.push(n.v6?"-6":"-4"),n.numeric||o.push("-a"),n.timeout&&(o=o.concat(["-w",r.format("%d",1e3*n.timeout)])),n.deadline)throw new Error("There is no deadline option on windows");return n.min_reply&&(o=o.concat(["-n",r.format("%d",n.min_reply)])),n.sourceAddr&&(o=o.concat(["-S",r.format("%s",n.sourceAddr)])),n.packetSize&&(o=o.concat(["-l",r.format("%d",n.packetSize)])),n.extra&&(o=o.concat(n.extra)),o.push(t),o},o.getSpawnOptions=function(){return{}},t.exports=o},function(t,e,n){"use strict";var r=n(0),o=n(4),i=n(15),s=n(5),a=n(16);function c(){}c.createParser=function(t,e){var n=e||{};if(!o.isPlatformSupport(t))throw new Error(r.format("Platform |%s| is not support",t));var c=null;return o.isWindow(t)?c=new i(n):o.isMacOS(t)?c=new s(n):o.isLinux(t)&&(c=new a(n)),c},t.exports=c},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(2);function s(t){i.call(this,t),this._ipv4Regex=/^([0-9]{1,3}\.){3}[0-9]{1,3}$/}r.inherits(s,i),s.prototype._processHeader=function(t){var e=-1===t.indexOf("["),n=t.split(" ");if(e)this._response.host=o.find(n,(function(t){return this._ipv4Regex.test(t)}),this),this._response.numeric_host=this._response.host;else{var r=o.find(n,(function(t){return-1!==t.indexOf("[")}),this),i=n.indexOf(r),s=/\[(.*)\]/.exec(r);this._response.numeric_host=s?s[1]:"NA",this._response.host=n[i-1]}this._changeState(this.STATES.BODY)},s.prototype._processIPV6Body=function(t){var e=t.split(" "),n=o.filter(e,(function(t){return t.indexOf("=")>=0||t.indexOf("<")>=0}));if((n=o.map(n,(function(t){var n=t,r=e.indexOf(t)+1;return r<e.length&&"ms"===e[r]&&(n+="ms"),n}))).length>=1){var r=o.find(n,(function(t){return t.search(/(ms|мс)/i)>=0})),i=/([0-9.]+)/.exec(r);this._times.push(parseFloat(i[1],10))}},s.prototype._processIPV4Body=function(t){var e=t.split(" "),n=o.filter(e,(function(t){return t.indexOf("=")>=0||t.indexOf("<")>=0}));if(n.length>=3){var i=this._pingConfig.packetSize,s=o.find(n,(function(t){var e=r.format("=%d",i);return t.indexOf(e)>=0})),a=n.indexOf(s),c=n[a+1],u=/([0-9.]+)/.exec(c);this._times.push(parseFloat(u[1],10))}},s.prototype._processBody=function(t){":"===t.slice(-1)?this._changeState(this.STATES.FOOTER):this._pingConfig.v6?this._processIPV6Body(t):this._processIPV4Body(t)},s.prototype._processFooter=function(t){var e=t.match(/([\d.]+)%/);if(e&&(this._response.packetLoss=parseFloat(e[1],10)),t.search(/(ms|мсек)/i)>=0){var n=/([0-9.]+)/g,r=n.exec(t),i=n.exec(t),s=n.exec(t);o.all([r,i,s])&&(this._response.min=parseFloat(r[1],10),this._response.max=parseFloat(i[1],10),this._response.avg=parseFloat(s[1],10),this._changeState(this.STATES.END))}},t.exports=s},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(5);function s(t){o.call(this,t)}r.inherits(s,o),s.prototype._processHeader=function(t){var e=t.split(" ");if(-1===e[1].indexOf("("))this._response.host=e[1],this._response.numeric_host=e[2].slice(1,-1);else{var n=e.slice(1,-3).join("").match(/([^\s()]+)/g);this._response.host=n.shift(),this._response.numeric_host=n.pop()}this._changeState(this.STATES.BODY)},s.prototype._processBody=function(t){i.prototype._processBody.call(this,t)},s.prototype._processFooter=function(t){i.prototype._processFooter.call(this,t)},t.exports=s}]);